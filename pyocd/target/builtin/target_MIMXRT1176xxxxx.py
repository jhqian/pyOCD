# pyOCD debugger
# Copyright (c) 2020 NXP
# Copyright (c) 2018 Arm Limited
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

import logging

from ...core.target import Target
from ...flash.flash import Flash
from ...core.coresight_target import CoreSightTarget
from ...core.memory_map import (FlashRegion, RomRegion, RamRegion, MemoryMap)
from ...debug.svd.loader import SVDFile
from ...coresight.ap import AccessPort
from ...coresight.cortex_m import CortexM 
from ...utility import (cmdline, conversion, timeout)
from time import (time, sleep)

LOG = logging.getLogger(__name__)
FCFB = 0x42464346
FCFB_ADDR = 0x30000400
RESET_HANDLE_ADDR = 0x30002004

FPB_CTRL = 0xE0002000
FPB_COMP0 = 0xE0002008

SRC_SCR = 0x40c04000
SRC_SBMR2 = 0x40c0400c

IOMUX_GPR19 = 0x400E404C
IOMUX_LPSR_GPR0 = 0x40c0c000
IOMUX_LPSR_GPR1 = 0x40c0c004

FLASH_ALGO = {
    'load_address' : 0x20200000,

    # Flash algorithm as a hex string
    'instructions': [
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x28001e40, 0x4770d1fc, 0x4605b570, 0x4616460c, 0xcc0fe002, 0x3e10c50f, 0xd2fa2e10, 0xd3022e08,
    0xc503cc03, 0x2e043e08, 0xcc01d307, 0x1f36c501, 0x7821e003, 0x1c647029, 0x1e761c6d, 0xbd70d2f9,
    0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770ba40, 0x4770bac0,
    0x4770bac0, 0x4770bac0, 0x4770bac0, 0x4770bac0, 0x4770bac0, 0x4770bac0, 0x4844b570, 0x6941b088,
    0x03c92400, 0xda1f2900, 0x31804940, 0xf3bf604c, 0x69428f4f, 0x041b2301, 0x6142439a, 0x8f4ff3bf,
    0x4d3b6808, 0x0c490101, 0x0d8304c0, 0x461805ca, 0x07820c96, 0x636a4332, 0xd2fa1e40, 0xd2f51e49,
    0x8f4ff3bf, 0x8f6ff3bf, 0x20004932, 0x185201c2, 0x1c406014, 0xd3f9284f, 0x02402001, 0x492d6008,
    0x31801c40, 0xf0006008, 0x492bfe37, 0x44792214, 0xf7ff4668, 0x4668ff89, 0xfab8f000, 0x44784826,
    0x68003814, 0xa8079007, 0xfb4cf000, 0x48234924, 0x48246048, 0x90054924, 0x4449aa05, 0xf0002001,
    0x2800f85b, 0x4920d106, 0x44492001, 0xf83ff000, 0xd0002800, 0xb0082001, 0x2000bd70, 0x491a4770,
    0x4449b510, 0xf0002001, 0x2800f841, 0x2001d000, 0x210dbd10, 0x18420709, 0xb5104913, 0x041b2301,
    0x20014449, 0xf83ef000, 0xd0002800, 0xbd102001, 0x4613210d, 0x18420709, 0xb510490b, 0x20014449,
    0xf81bf000, 0xd0002800, 0xbd102001, 0xe000ed00, 0xe000ef40, 0x40cc0000, 0x0000255e, 0x00000503,
    0x40cc0a00, 0xc0000007, 0x00000004, 0x22014770, 0x69d20552, 0x685268d2, 0xb4304710, 0x05642401,
    0x68e469e4, 0x46a468a4, 0x4760bc30, 0x05522201, 0x68d269d2, 0x471068d2, 0x055b2301, 0x68db69db,
    0x47186a5b, 0x2401b430, 0x69e40564, 0x692468e4, 0xbc3046a4, 0xb5384760, 0x94009c04, 0x05642401,
    0x68e469e4, 0x47a06964, 0xb430bd38, 0x05642401, 0x68e469e4, 0x46a46a24, 0x4760bc30, 0x05522201,
    0x68d269d2, 0x471069d2, 0x05492101, 0x68c969c9, 0x47086989, 0x05522201, 0x68d269d2, 0x47106b92,
    0xb5f84770, 0x88084942, 0x20040742, 0xda022a00, 0x4382880a, 0x4a3f800a, 0x07498811, 0x8811d502,
    0x80114381, 0x6801483c, 0x048c4a3d, 0x4b3d493b, 0x6041d501, 0x6042e001, 0x4c3b6043, 0x68076084,
    0x43af2580, 0x43372620, 0x48386007, 0x04bf6807, 0x6041d501, 0x6042e001, 0x60846043, 0x43a96801,
    0x60014331, 0x69014832, 0xd00307c9, 0x08496901, 0x61010049, 0x69704e2f, 0x03814c2f, 0x29002000,
    0x6971db14, 0xd4110389, 0x8f4ff3bf, 0x8f6ff3bf, 0xf3bf6120, 0xf3bf8f4f, 0x69718f6f, 0x04522201,
    0x61714311, 0x8f4ff3bf, 0x8f6ff3bf, 0x03c96971, 0x6971d421, 0xd41e03c9, 0x3180491e, 0xf3bf6048,
    0x68088f4f, 0x0c490101, 0x0d8504c0, 0x462805ca, 0x07820c93, 0x6222431a, 0xd2fa1e40, 0xd2f51e49,
    0x8f4ff3bf, 0x21016970, 0x43080409, 0xf3bf6170, 0xf3bf8f4f, 0x69708f6f, 0x43082110, 0xf3bf6170,
    0xf3bf8f4f, 0xf7ff8f6f, 0xbdf8ff7b, 0x00004770, 0x40030000, 0x40034000, 0x40038000, 0xd928c520,
    0x0000c520, 0x0000d928, 0x0000ffff, 0x40c10000, 0xe000e000, 0xe000ed00, 0xe000ef40, 0x4604b5fe,
    0xd0032804, 0xd0012c05, 0xfa2ef001, 0xd03c2c04, 0x21002003, 0xf8ebf001, 0x06400101, 0x0f4e0e40,
    0x2c049002, 0x2003d033, 0xf0012130, 0xf001f8e0, 0x9101fef0, 0x2c049000, 0x2003d02b, 0xf0012120,
    0xf001f8d6, 0x4604fee6, 0x460d2001, 0xf00140b0, 0x4606fed8, 0x4620460f, 0x9b014629, 0xf0019a00,
    0x4604fc67, 0x9802460d, 0xfed3f001, 0x462b4622, 0xfc2ef001, 0x4bfe2200, 0xfecef001, 0x463b4632,
    0xfc56f001, 0xfe78f001, 0x2002bdfe, 0x2002e7c1, 0x2002e7ca, 0xb510e7d2, 0xf0020003, 0x0406f909,
    0x28261513, 0x48f32f2a, 0x68006801, 0x03c0b2cc, 0x21010f80, 0x40811c40, 0x48ef0049, 0xf9def001,
    0xe0194360, 0xbd1048ed, 0x318049ea, 0x06446908, 0x0e646808, 0x6a090080, 0x00890880, 0xf0010889,
    0x49e5f9cd, 0x43481900, 0x48e5e006, 0x2004bd10, 0x2005e000, 0xff82f7ff, 0xd1f72800, 0xf9b4f001,
    0x2802b510, 0x2803d001, 0x223fd116, 0x409a00cb, 0xd0022802, 0xd10f2803, 0x48d6e005, 0x6b013040,
    0x401148d8, 0x48d3e003, 0x48d56b01, 0x40d94011, 0x3a0c460a, 0xd9012a17, 0xf996f001, 0xd0042900,
    0xf99cf001, 0x43482112, 0x2000bd10, 0x4601bd10, 0x48c9b510, 0xf002000b, 0x111ff8ab, 0x12151213,
    0x19171712, 0x241f1d19, 0x4a282826, 0x302e2c2a, 0x3a353333, 0x43434141, 0x004a4545, 0xbd1048c2,
    0xbd1048c2, 0xbd1048c2, 0xe0002000, 0xf7ff2002, 0xe02aff82, 0xe0002100, 0x20022101, 0xffb0f7ff,
    0x2102e023, 0x2103e7f9, 0x2003e7f7, 0x2100e7ef, 0x2101e004, 0x2102e002, 0x2103e000, 0xe7ed2003,
    0xe7e42001, 0xf7ff2001, 0x0840ff66, 0x2001e00d, 0xff61f7ff, 0xf0012105, 0xe006f951, 0xe7d62004,
    0xe7d42005, 0xf0002000, 0x2800f804, 0xf001d1cb, 0xb530f93b, 0x49a7b0ff, 0x4604b0a0, 0x00d2224f,
    0x46684479, 0xfd40f7ff, 0x01e148a3, 0x68081809, 0x05406809, 0xb2cd0f40, 0x466a00e1, 0x5c081889,
    0xf7ff1c6d, 0x4629ff94, 0xf928f001, 0xd1012800, 0xf91af001, 0xb020b07f, 0xb5f8bd30, 0x68404604,
    0x39684601, 0xd9012968, 0xf90ef001, 0x68294d89, 0x4e934f92, 0xd50a0489, 0x43c96829, 0x4208b2c9,
    0x7820d105, 0x03c06829, 0x03c04388, 0xf000d029, 0x6829fd6d, 0x22014628, 0x43910752, 0x0f92044a,
    0x2203d004, 0x43910352, 0x60014331, 0x79254a85, 0x78224011, 0x07924604, 0x43150bd2, 0x4982430d,
    0x6005430d, 0x8f4ff3bf, 0x8f6ff3bf, 0x201e4973, 0xffe4f000, 0x00806820, 0x433dd5fc, 0x602543b5,
    0x6828bdf8, 0xd4020440, 0x43386828, 0x68286028, 0xd5f50040, 0x43b06828, 0xbdf86028, 0x68084965,
    0x43904a72, 0x4310054a, 0x47706008, 0x4d61b5f8, 0x35404604, 0x4f6e6828, 0x02004e69, 0x6838d515,
    0x42886861, 0x6938d111, 0x428868a1, 0x6828d10d, 0xd4030480, 0x14716828, 0x60284308, 0x00406828,
    0x6828d502, 0x602843b0, 0xf000bdf8, 0x6b28fd0f, 0x43084960, 0x68286328, 0x4208495f, 0x43c9d003,
    0x43304008, 0x485d6028, 0x68606238, 0x68a06038, 0x48536138, 0x60283008, 0x201e4c48, 0xf0004621,
    0x4857ff8d, 0x46216028, 0xf00020fa, 0x4955ff87, 0x68286029, 0xd5fc0080, 0x03402001, 0x60294301,
    0x602943b1, 0x494b6b28, 0x400843c9, 0xbdf86328, 0x30404838, 0x4a476b01, 0x63014311, 0x06026801,
    0x60014311, 0x4a486801, 0x60014011, 0xb5f84770, 0x4611468c, 0x2917390c, 0x2802d803, 0x2803d003,
    0xf001d006, 0x483af851, 0x38104c39, 0xe0033c30, 0x4c284828, 0x34203030, 0x46636801, 0x254000db,
    0x4029409d, 0x68079100, 0x409e2680, 0x60074337, 0x213f6807, 0x438f4099, 0x06916007, 0x68020e89,
    0x43114099, 0x68216001, 0x23024662, 0x40594093, 0x68016021, 0x600143b1, 0x9a006801, 0x42914029,
    0xbdf8d0fa, 0x4c13b5f8, 0x69204605, 0x02804e1c, 0x7828d504, 0x43886921, 0xd0560740, 0xfc86f000,
    0x491c6b20, 0x63204308, 0x49157828, 0x0f400740, 0x18453110, 0x4f096125, 0x4639201e, 0xff0ef000,
    0x4305481a, 0x46396125, 0xf000201e, 0xe02fff07, 0x4176e360, 0x40c84200, 0x016e3600, 0x3b9aca00,
    0x1c9c3800, 0x1f78a400, 0x00f42400, 0x02dc6c00, 0x17d78400, 0x000020e0, 0x40cc0000, 0x00004000,
    0x40000000, 0xfffe7f00, 0x40002000, 0x20006000, 0x40c84280, 0x80808080, 0x00802000, 0x0fffffff,
    0x40800808, 0x40800008, 0xff7fdff7, 0x00200800, 0x02c02001, 0x61254385, 0x00806920, 0x48f8d5fc,
    0x61254305, 0x612543b5, 0x6920bdf8, 0xd4040480, 0x21016920, 0x43080349, 0x69206120, 0xd5f30040,
    0x43b06920, 0xbdf86120, 0xb5104770, 0xd0022900, 0x03522201, 0x2200e000, 0x039b2301, 0x290018d2,
    0x2104d001, 0x2108e000, 0xfe5df000, 0xb510bd10, 0xd0012900, 0xe0002104, 0x22012108, 0xf0000412,
    0xbd10fe52, 0x2900b510, 0x2104d001, 0x2108e000, 0x05922201, 0xfe47f000, 0xb510bd10, 0xd0012900,
    0xe0002104, 0x22012108, 0xf0000352, 0xbd10fe3c, 0x460db570, 0x21014604, 0xffeff7ff, 0x462849d1,
    0xfe7cf000, 0x46202100, 0xffe7f7ff, 0xb510bd70, 0xd0012900, 0xe0002104, 0x22012108, 0xf00003d2,
    0xbd10fe22, 0xb081b5ff, 0x461d9f0a, 0x4604460e, 0xd0022801, 0xf7ff2100, 0x463affa8, 0x46202130,
    0xfe11f000, 0x46202120, 0xf0009a03, 0x2000fe0c, 0x90004601, 0x4632237f, 0xf0004620, 0x2c01fe0c,
    0x2019d008, 0x90002307, 0x462a065b, 0x46202100, 0xfe01f000, 0x46202101, 0xffa4f7ff, 0x206449b1,
    0xfe3cf000, 0x46202101, 0xff7ff7ff, 0xbdf0b005, 0x49ad2201, 0x28000392, 0xd0026808, 0x60084310,
    0x43904770, 0x2201e7fb, 0x035249a7, 0x68082800, 0x4310d002, 0x47706008, 0xe7fb4390, 0x4604b5f8,
    0xf0002600, 0x4da0fb83, 0x49a06828, 0xd1004381, 0x21012601, 0xf7ff2002, 0x2e00ff6a, 0x2000d011,
    0xffe1f7ff, 0xf7ff2001, 0x2100ffd3, 0xf7ff2002, 0x2100ff8e, 0xf7ff2002, 0x2100ff48, 0xf7ff2002,
    0x2001ff61, 0xffcff7ff, 0x900068a0, 0x78217863, 0x68622002, 0xff86f7ff, 0x200221e1, 0xff68f7ff,
    0x00806828, 0x2101d5fc, 0xf7ff2002, 0x2000ff70, 0xffaef7ff, 0x20022100, 0xff39f7ff, 0xb510bdf8,
    0x0004460a, 0x2051d005, 0x42820100, 0x2a14d801, 0xf000d801, 0x497efec9, 0x210060a1, 0xd3034282,
    0x20367061, 0xe0427020, 0x00c02051, 0xd3074282, 0x21187061, 0xf0004610, 0x7020fec1, 0xe0354875,
    0x304520ff, 0xd3084282, 0x70602001, 0x4610210c, 0xfeb4f000, 0x48707020, 0x2aa2e028, 0x2002d308,
    0x21067060, 0xf0004610, 0x7020fea9, 0xe01d486b, 0xd3082a51, 0x70602003, 0x46104601, 0xfe9ef000,
    0x48677020, 0x2a28e012, 0x2004d308, 0x00507060, 0xf0002103, 0x7020fe93, 0xe0074862, 0x70602005,
    0x21030090, 0xfe8af000, 0x485f7020, 0x20004341, 0xbd106061, 0x2200b50e, 0x92004601, 0x46689201,
    0xf7ff9202, 0x2800ff9c, 0x2001d001, 0x4668bd0e, 0xff54f7ff, 0xbd0e2000, 0x2000b510, 0xff43f7ff,
    0xf7ff2001, 0x2100ff35, 0xf7ff2002, 0x2100fef0, 0xf7ff2002, 0x2100feaa, 0xf7ff2002, 0xbd10fec3,
    0x22014941, 0x03923140, 0x69082800, 0x4310d002, 0x47706108, 0xe7fb4390, 0x2201493b, 0x03523140,
    0x69082800, 0x4310d002, 0x47706108, 0xe7fb4390, 0x4604b5f8, 0xf0002600, 0x4d33faa9, 0x69283540,
    0x43814932, 0x2601d100, 0x20032101, 0xfe8ff7ff, 0xd0112e00, 0xf7ff2000, 0x2001ffdf, 0xffd0f7ff,
    0x20032100, 0xfeb3f7ff, 0x20032100, 0xfe6df7ff, 0x20032100, 0xfe86f7ff, 0xf7ff2001, 0x68a0ffcd,
    0x78639000, 0x20037821, 0xf7ff6862, 0x21e1feab, 0xf7ff2003, 0x6928fe8d, 0xd5fc0080, 0x20032101,
    0xfe95f7ff, 0xf7ff2000, 0x2100ffab, 0xf7ff2003, 0xbdf8fe5e, 0x2200b50e, 0x92004601, 0x46689201,
    0xf7ff9202, 0x2800ff1c, 0x2001d001, 0x4668bd0e, 0xffaef7ff, 0xbd0e2000, 0x2000b510, 0xff9cf7ff,
    0xf7ff2001, 0x2100ff8d, 0xf7ff2003, 0x2100fe70, 0xf7ff2003, 0x2100fe2a, 0xf7ff2003, 0xbd10fe43,
    0x00002008, 0x3b9aca00, 0x40c84300, 0x20002000, 0x0fffffff, 0x00aaaaaa, 0x01555555, 0x02aaaaaa,
    0x05555555, 0x0aaaaaaa, 0x15555554, 0x49de2201, 0x28000392, 0xd0026808, 0x60084310, 0x43904770,
    0x2201e7fb, 0x065249d8, 0x68082800, 0x4310d002, 0x47706008, 0xe7fb4390, 0x49d32201, 0x28000692,
    0xd0026808, 0x60084310, 0x43904770, 0x2201e7fb, 0x035249cd, 0x68082800, 0x4310d002, 0x47706008,
    0xe7fb4390, 0x680849c8, 0xd5fc0080, 0xb5384770, 0xf0004604, 0x2101f9fb, 0xf7ff4608, 0x2001fde8,
    0xffe5f7ff, 0x900048c1, 0x21294ac1, 0x20012300, 0xfe18f7ff, 0x200121e1, 0xfdfaf7ff, 0xffe2f7ff,
    0x46082101, 0xfe03f7ff, 0xf7ff2000, 0x7820ffaf, 0xffb7f7ff, 0xf7ff7860, 0x2100ffbf, 0xf7ff2001,
    0xbd38fdc6, 0x2000b510, 0xffc1f7ff, 0xf7ff2000, 0x2000ffa8, 0xffb0f7ff, 0xf7ff2001, 0x2100ff97,
    0xf7ff2001, 0x2100fde4, 0xf7ff2001, 0x2100fd9e, 0xf7ff2001, 0xe772fdb7, 0x6a0148a6, 0xd40406c9,
    0x62012114, 0x00496a01, 0x4770d5fc, 0x2802b510, 0xf000d301, 0x780afd39, 0x2a00790b, 0x2201d001,
    0x43130612, 0x794c884a, 0x01240412, 0x43134322, 0x0212798a, 0x79ca4313, 0x43130312, 0x489601c2,
    0x60031810, 0x7a0a7a4b, 0x431a011b, 0x7acc7a8b, 0x0324021b, 0x431a4323, 0x041b7b0b, 0x7b4b431a,
    0x431a051b, 0x7bc97b8b, 0x431a061b, 0x430a0709, 0xe7346102, 0x4889b570, 0x05816900, 0x05c10fca,
    0xb2c00fc9, 0xd0112a00, 0x22204c85, 0x02896222, 0x43010600, 0x6a206321, 0x432800d5, 0x49816220,
    0xf0002001, 0x6a20fbfb, 0x622043a8, 0x4879bd70, 0x69013040, 0x00490849, 0x6a016101, 0x43112201,
    0x47706201, 0x220101cb, 0x06124977, 0x600a1859, 0x604a1252, 0x608a10d2, 0x0a52680a, 0x600a0252,
    0x05c0680a, 0x23030dc0, 0x4318041b, 0x600a4302, 0x6088486e, 0x28006c08, 0x6c08d0fc, 0x47700080,
    0x47702001, 0x460fb5f8, 0x20732400, 0xf8b1f000, 0x4e672001, 0x63b007c0, 0x48664d65, 0x62683580,
    0x48654639, 0xfcbaf000, 0xd1142900, 0xb2802107, 0x28160589, 0xdc08d01a, 0xd021280d, 0xd00c280f,
    0xd00d2810, 0xd1062814, 0x2819e00d, 0x281ed011, 0x28f0d012, 0x2000d013, 0x2401bdf8, 0xe00f05a4,
    0x05e42401, 0x2403e00c, 0xe00905a4, 0x06242401, 0x2405e006, 0xe00305a4, 0x05e42403, 0x460ce000,
    0x43886a28, 0x62284320, 0x04002001, 0x204062a8, 0x06006268, 0x200063b0, 0x6a286070, 0xdafc2800,
    0xbdf82001, 0x20404942, 0x62883180, 0x6b014840, 0x43110402, 0x47706301, 0x47702001, 0x460fb5f8,
    0x20732400, 0xf855f000, 0x4e3c2001, 0x63b007c0, 0x48384d3a, 0x62683580, 0x48374639, 0xfc5ef000,
    0xd1142900, 0xb2802107, 0x28160589, 0xdc08d01a, 0xd021280d, 0xd00c280f, 0xd00d2810, 0xd1062814,
    0x2819e00d, 0x281ed011, 0x28f0d012, 0x2000d013, 0x2401bdf8, 0xe00f05a4, 0x05e42401, 0x2403e00c,
    0xe00905a4, 0x06242401, 0x2405e006, 0xe00305a4, 0x05e42403, 0x460ce000, 0x43886a28, 0x62284320,
    0x04002001, 0x204062a8, 0x06006268, 0x200063b0, 0x6a286070, 0xdafc2800, 0xbdf82001, 0x20404917,
    0x62883180, 0x6b014815, 0x07922201, 0x63014311, 0x01424770, 0x21014812, 0x68021810, 0x4291400a,
    0x6001d000, 0x00004770, 0x40c842c0, 0x0fffffff, 0x0aaaaaaa, 0x40c84000, 0x40cc4000, 0x40c84100,
    0x40c84900, 0x3b9aca00, 0x40150000, 0x01008000, 0x40434000, 0x00201000, 0x1c9c3800, 0x40438000,
    0x40cc6000, 0x6a114abc, 0x061b2301, 0x06004399, 0x62104308, 0x4ab84770, 0x23076a11, 0x0740029b,
    0x0cc04399, 0x62104308, 0x4ab34770, 0x04c06911, 0x03490b49, 0x43080cc0, 0x47706110, 0x69114aae,
    0x09090109, 0x43080700, 0x47706110, 0x69114aaa, 0x061b230f, 0x43990700, 0x43080900, 0x47706110,
    0x2800b500, 0x2001d004, 0xfff0f7ff, 0xe00a2001, 0xd0042900, 0xf7ff2005, 0x2005ffe9, 0x2000e003,
    0xffe4f7ff, 0xf7ff2000, 0xbd00ffd9, 0x2100b500, 0xf7ff2001, 0x20ffffe5, 0xf7ff30ef, 0x2001ffc6,
    0xffb9f7ff, 0xf7ff2001, 0xbd00ffad, 0x2100b510, 0xf0004608, 0x22fffa4c, 0x42903206, 0x2100d01b,
    0xf0004608, 0x2100fa40, 0xf0004608, 0x20fffa40, 0x30014989, 0x60083140, 0x6a014888, 0x04122201,
    0x62014391, 0x20014986, 0xfa78f000, 0x6b014882, 0x43112210, 0xbd106301, 0xb5102200, 0x46104611,
    0xfa21f000, 0x229dbd10, 0x0092b510, 0x1a802114, 0xfb64f000, 0x3a404a78, 0x231f6b11, 0x06c0051b,
    0x09c04399, 0x63104308, 0xb570bd10, 0x3c404c72, 0x08406920, 0x61200040, 0x267d4d71, 0x462900f6,
    0xf0004630, 0x6922fa4b, 0x04c02001, 0x61224302, 0x46304629, 0xfa42f000, 0x21206920, 0x61204308,
    0x46304629, 0xfa3af000, 0x21046920, 0x61204308, 0xb570bd70, 0x3c404c60, 0x21056920, 0x61204388,
    0x267d4d5f, 0x462900f6, 0xf0004630, 0x6922fa27, 0x43822020, 0x46296122, 0xf0004630, 0x6920fa1f,
    0x04c92101, 0x61204388, 0xb570bd70, 0x3c404c52, 0x21016b20, 0x63204308, 0x267d4d51, 0x462900f6,
    0xf0004630, 0x6b22fa0b, 0x04402001, 0x63224302, 0x46304629, 0xfa02f000, 0x21016b20, 0x43080489,
    0x46296320, 0xf0004630, 0x6b20f9f9, 0x43882104, 0xbd706320, 0x4c40b570, 0x6b203c40, 0x43082105,
    0x4d3f6320, 0x00f6267d, 0x46304629, 0xf9e6f000, 0x20016b22, 0x43820480, 0x46296322, 0xf0004630,
    0x6b20f9dd, 0x04492101, 0x63204388, 0xb570bd70, 0x3c404c31, 0x08406920, 0x61200040, 0x21016b20,
    0x63204308, 0x267d4d2e, 0x462900f6, 0xf0004630, 0x6922f9c5, 0x04c02001, 0x61224302, 0x21016b20,
    0x43080449, 0x46296320, 0xf0004630, 0x6920f9b7, 0x43082120, 0x6b206120, 0x43080349, 0x46296320,
    0xf0004630, 0x6921f9ab, 0x43012004, 0x6b216121, 0x63214381, 0xb570bd70, 0x3c404c17, 0x20046921,
    0x61214381, 0x43016b21, 0x69206321, 0x00400840, 0x6b206120, 0x43082101, 0x4d116320, 0x00f6267d,
    0x46304629, 0xf98af000, 0x20016b22, 0x43820480, 0x69206322, 0x43882120, 0x46296120, 0xf0004630,
    0x6b20f97d, 0x04492101, 0x63204388, 0x00896920, 0x61204388, 0x0000bd70, 0x40c84540, 0x40c84800,
    0x3b9aca00, 0x25ffb5f8, 0x461f3501, 0x11e6022c, 0xf0010003, 0x0507f97d, 0xa7784c23, 0x00f2f4d1,
    0x29004897, 0x6a014b97, 0x43a1d00a, 0x6a016201, 0x02090a09, 0x62014311, 0x68186307, 0xe0cc4060,
    0x432143a1, 0x6a016201, 0x02090a09, 0x62014311, 0x40606818, 0x488a6018, 0xe0f03040, 0x2900488a,
    0xd0116901, 0x40316903, 0x610343a3, 0x0a1b6903, 0x4313021b, 0x62076103, 0x406a6902, 0x69026102,
    0x428a4032, 0xe0ccd0fb, 0x40316903, 0x432343a3, 0x69036103, 0x021b0a1b, 0x61034313, 0x406a6902,
    0x69026102, 0x428a4032, 0x6b00d0fb, 0x4877bdf8, 0x68012900, 0x6803d014, 0x43a34031, 0x68036003,
    0x021b0a1b, 0x60034313, 0x68026107, 0x6002406a, 0x40326802, 0xd0fb428a, 0x43a16801, 0xe0a06001,
    0x40316803, 0x432343a3, 0x68036003, 0x021b0a1b, 0x60034313, 0x406a6802, 0x68026002, 0x428a4032,
    0x6a00d0fb, 0x4861bdf8, 0x6b012900, 0x6b03d016, 0x43a34031, 0x6b036303, 0x021b0a1b, 0x63034313,
    0x32404a5a, 0x6b026017, 0x6302406a, 0x40326b02, 0xd0fb428a, 0x43a16b01, 0xe0726301, 0x40316b03,
    0x432343a3, 0x6b036303, 0x021b0a1b, 0x63034313, 0x406a6b02, 0x6b026302, 0x428a4032, 0x484bd0fb,
    0xe0483040, 0x2900484a, 0xd0116a01, 0x40316a03, 0x620343a3, 0x0a1b6a03, 0x4313021b, 0x63076203,
    0x406a6a02, 0x6a026202, 0x428a4032, 0xe048d0fb, 0x40316a03, 0x432343a3, 0x6a036203, 0x021b0a1b,
    0x62034313, 0x406a6a02, 0x6a026202, 0x428a4032, 0x4837d0fb, 0xe0423040, 0x03ed2501, 0x29004836,
    0x6a014b34, 0x43a1d00b, 0x6a016201, 0x02090a09, 0x62014311, 0x68186307, 0x60184068, 0x43a1e021,
    0x62014321, 0x0a096a01, 0x43110209, 0x68186201, 0x60184068, 0x69004826, 0xe022bdf8, 0x4b21e7ff,
    0x33402501, 0x29004824, 0xd00c6a01, 0x620143a1, 0x0a096a01, 0x43110209, 0x63076201, 0x40686b18,
    0x20006318, 0x43a1e7e8, 0x62014321, 0x0a096a01, 0x43110209, 0x6b186201, 0x63184068, 0x68004814,
    0xf000e7da, 0x4613f941, 0x2101460a, 0x2300e6da, 0x4619460a, 0xb5ffe6d6, 0x461cb081, 0x460f4615,
    0x98019e0a, 0xfff3f7ff, 0x43a040b5, 0x43284025, 0x46394602, 0xf7ff9801, 0xb005ffe6, 0x0000bdf0,
    0x40c84800, 0x40c84500, 0x40c84840, 0x40c84880, 0x40c84900, 0x40c84400, 0x40c848c0, 0x460cb570,
    0x1e651901, 0x43a91e49, 0x1d001908, 0xf834f000, 0xd0071e01, 0x1cc01908, 0x1f0243a8, 0x80134b14,
    0x80511a41, 0xb510bd70, 0x880a1f01, 0x429a4b10, 0x8849d103, 0xf0001a40, 0xbd10f850, 0x2800b510,
    0xf000d00b, 0x4a0bfffd, 0xf0002300, 0x2300f86c, 0x220043db, 0x418a1a1b, 0xf000d201, 0x2203f8e5,
    0xf0002300, 0x1800f860, 0xfceaf7fe, 0x0000bd10, 0x00003039, 0x000f4240, 0x4606b570, 0xfed6f000,
    0x46306805, 0x08c4300b, 0x42b400e4, 0x2000d801, 0x6868bd70, 0x2800462a, 0x6801d018, 0xd31142a1,
    0x4621460b, 0x428b3108, 0x6843d308, 0x604b1901, 0x1b1b6803, 0x6051600b, 0xe0016004, 0x60516841,
    0xbd701d00, 0x68404602, 0xd1e62800, 0x46284621, 0xfeb6f000, 0xd1dc2800, 0xb570bd70, 0x1f054604,
    0xfea4f000, 0x2c006800, 0x6844d01a, 0x4620e001, 0x2c006864, 0x42acd001, 0x6801d3f9, 0x42aa180a,
    0x682ad104, 0x18894605, 0xe0006001, 0x68286045, 0x42a11941, 0x6861d105, 0x68216069, 0x60281840,
    0x606cbd70, 0xb5febd70, 0x46104605, 0x4318460c, 0x46aed073, 0x2000468c, 0x46011aad, 0xd367419c,
    0x27004666, 0x463d2401, 0x419d1ab6, 0x4613d302, 0x2421463a, 0x46764665, 0x0c36042f, 0x0c2d433e,
    0x419d1ab6, 0x0c15d304, 0x432b041b, 0x34100412, 0x46764665, 0x0a36062f, 0x0a2d433e, 0x419d1ab6,
    0x0e15d304, 0x432b021b, 0x34080212, 0x46764665, 0x0936072f, 0x092d433e, 0x419d1ab6, 0x0f15d304,
    0x432b011b, 0x1d240112, 0x46764665, 0x08b607af, 0x08ad433e, 0x419d1ab6, 0x0f95d304, 0x432b009b,
    0x1ca40092, 0x46764665, 0x087607ef, 0x086d433e, 0x419d1ab6, 0x1892d31a, 0x1c64415b, 0x1800e016,
    0x46654676, 0x1ab74149, 0x9101419d, 0xd3099000, 0x1ab14660, 0x468e4198, 0x98004684, 0x25009901,
    0x41691c40, 0x085207dd, 0x085b432a, 0xd5e61e64, 0x46634672, 0xbdf0b003, 0x2000e7ff, 0x46c04601,
    0x462a46c0, 0xe7f54623, 0x2000b510, 0xfe51f000, 0x46c046c0, 0xf0002001, 0xbd10fdf3, 0x09032200,
    0xd32c428b, 0x428b0a03, 0x2300d311, 0xe04e469c, 0x430b4603, 0x2200d43c, 0x428b0843, 0x0903d331,
    0xd31c428b, 0x428b0a03, 0x4694d301, 0x09c3e03f, 0xd301428b, 0x1ac001cb, 0x09834152, 0xd301428b,
    0x1ac0018b, 0x09434152, 0xd301428b, 0x1ac0014b, 0x09034152, 0xd301428b, 0x1ac0010b, 0x08c34152,
    0xd301428b, 0x1ac000cb, 0x08834152, 0xd301428b, 0x1ac0008b, 0x08434152, 0xd301428b, 0x1ac0004b,
    0x1a414152, 0x4601d200, 0x46104152, 0xe05d4770, 0xd0000fca, 0x10034249, 0x4240d300, 0x22004053,
    0x0903469c, 0xd32d428b, 0x428b0a03, 0x22fcd312, 0xba120189, 0x428b0a03, 0x0189d30c, 0x428b1192,
    0x0189d308, 0x428b1192, 0x0189d304, 0x1192d03a, 0x0989e000, 0x428b09c3, 0x01cbd301, 0x41521ac0,
    0x428b0983, 0x018bd301, 0x41521ac0, 0x428b0943, 0x014bd301, 0x41521ac0, 0x428b0903, 0x010bd301,
    0x41521ac0, 0x428b08c3, 0x00cbd301, 0x41521ac0, 0x428b0883, 0x008bd301, 0x41521ac0, 0x0843d2d9,
    0xd301428b, 0x1ac0004b, 0x1a414152, 0x4601d200, 0x41524663, 0x4610105b, 0x4240d301, 0xd5002b00,
    0x47704249, 0x105b4663, 0x4240d300, 0x2000b501, 0x46c046c0, 0x0000bd02, 0x460cb5f0, 0x419c1a87,
    0x1a86460d, 0xd203419d, 0x41a11bc0, 0x416319d2, 0x0d1f0d0d, 0x1bec4ec9, 0xd05c43ae, 0x0d7f057f,
    0x2f002600, 0x052dd051, 0x43a946ac, 0x230102dd, 0x051b0aed, 0x2320431d, 0xd4241b1b, 0x40e74617,
    0x41711838, 0x40e7462f, 0x409d19cc, 0x46311828, 0x0d0c4161, 0x4461d127, 0xd513409a, 0x1c402300,
    0x00524159, 0x0840d10e, 0x22010040, 0x0552004b, 0xd30742d3, 0x07402005, 0xd50142c1, 0xe00049b0,
    0x463049b0, 0x006bbdf0, 0xd0002a00, 0x189a2201, 0x3c20231f, 0xd5011b1b, 0xe0022300, 0x182840e5,
    0x0d0c4171, 0x2401d0d7, 0x19090524, 0x07cd07c4, 0x08490840, 0x43280fe4, 0x2c004461, 0x2400d0d5,
    0x41611c40, 0xd1d0409a, 0x056ae7cd, 0xd1d90d52, 0x07c90fc9, 0x4d9ce7d5, 0x2800004e, 0x2401d001,
    0x2400e000, 0x005f1934, 0xd0012a00, 0xe0002601, 0x19be2600, 0x42ac4f95, 0x42aed80c, 0x42b4d80a,
    0x2501d006, 0x42ec056d, 0x4610d0bc, 0xbdf04619, 0xd0fc4299, 0x46392000, 0xb5f0bdf0, 0x460cb41f,
    0x1a81460f, 0x4625419f, 0x419d1a86, 0x2501d206, 0x406f07ed, 0x41bc1a40, 0x417b1852, 0x0d1e0d21,
    0x46ac1b8d, 0x438d4d7d, 0x0575d07e, 0xd07c0d6d, 0x46ae050d, 0x031b43ac, 0x4d790b1b, 0x419d4252,
    0x46662320, 0xd3141b9b, 0x40f74617, 0x26001838, 0x41749000, 0x462f4660, 0x19e44107, 0x409d9800,
    0x41661828, 0x4671d416, 0x409a1871, 0x2301d525, 0x1893e020, 0x416a462a, 0x2b000052, 0x1c52d000,
    0x3e20231e, 0x2b001b9b, 0x4135dd61, 0x182817ee, 0xd5e84166, 0x41761800, 0x409a1c5b, 0x1c40d300,
    0x18f3054b, 0x40e32415, 0x2b00d310, 0x4671d052, 0x0fd31871, 0xd30218c0, 0xb0051c49, 0x2301bdf0,
    0x429a07db, 0x0840d1f9, 0xe7f60040, 0x05522201, 0xd10118b2, 0xd0532800, 0x0acc2301, 0x439902db,
    0x2a001e89, 0x0c02d108, 0x0c02d003, 0x39100400, 0x4602e002, 0x39202000, 0x0b552300, 0x0212d105,
    0x0b552308, 0x0152d101, 0x0c55230d, 0x0112d101, 0x0cd51d1b, 0x0092d101, 0x0d151c9b, 0x0052d101,
    0x25201c5b, 0xe0011aee, 0xe022e02c, 0x40f54605, 0x40984315, 0x07e11aca, 0x05131869, 0x2a0018c9,
    0x2003dabb, 0x18080740, 0x07c90fc1, 0x4671e00f, 0xe7b21861, 0x084007f1, 0x10714308, 0x004a4471,
    0x2301d00c, 0x429a055b, 0x0fc9d2a7, 0x200007c9, 0x0549e7a3, 0xd1260d49, 0xe0012000, 0xd1f42800,
    0xe79a2100, 0x00664d28, 0xd0012800, 0xe0002101, 0x18712100, 0x2a00005f, 0x2601d001, 0x2600e000,
    0x4f2219be, 0xd81042a9, 0xd80e42ae, 0xd00842b1, 0x056d2501, 0xd00642e9, 0x02a84619, 0x46104041,
    0x429ce77b, 0x4621d001, 0x2000e777, 0xe7744639, 0x460cb510, 0xd505405c, 0x07e42401, 0xf7ff4063,
    0xbd10ff0c, 0xfe78f7ff, 0xb430bd10, 0x405c460c, 0x2401d504, 0x406307e4, 0xe66dbc30, 0xe6fcbc30,
    0x2401b570, 0x406107e4, 0x405d460d, 0xf7ffd402, 0xbd70fe63, 0xf7ff4063, 0xbd70fef0, 0x000007ff,
    0xfff00000, 0x7ff00000, 0xffe00000, 0x7ff80000, 0x4df9b5f0, 0x091e090c, 0x402e402c, 0xb08b462f,
    0xd07d43a7, 0xd0fc43b5, 0xd07a2e00, 0xd0fc2c00, 0x405d460d, 0x43250fed, 0x25ff1bac, 0x196404ad,
    0x02c59408, 0x02c90d44, 0x0d504321, 0x430402dc, 0x07c02001, 0x43044301, 0x910102d2, 0x0c110c20,
    0x468c9500, 0x46230401, 0x910a438b, 0x04094661, 0x438a4de2, 0x0a019109, 0x1949447d, 0x78093980,
    0x434d4605, 0x186d2601, 0x1b7505f6, 0x0cc94369, 0x1c890b64, 0x1864434c, 0x1b2c01b5, 0x042e0c25,
    0x434c43b4, 0x0c21434d, 0x09891869, 0x9d009105, 0xd00107e9, 0x07c92101, 0x462c9104, 0x08679901,
    0x432f07cd, 0x9d05084c, 0x434d0be1, 0x46290c2d, 0x43754666, 0x460d9502, 0x462e4345, 0x1b7d9d02,
    0x950041b4, 0x435d460d, 0x0c2c9401, 0x460d042f, 0x46ae4355, 0x433d0c2d, 0x94039502, 0x9c044675,
    0x1b64042d, 0xd2069404, 0x9d039c02, 0x26001c64, 0x95034175, 0xac019402, 0x9f00cc70, 0xe0011b7d,
    0xe162e13e, 0x040941b4, 0x91079500, 0x99059401, 0x436108a4, 0x460c0c09, 0x0b654344, 0x460c04e7,
    0x43744666, 0x0b6446a6, 0x9503433c, 0x46749402, 0x04e49d04, 0x94041b2c, 0x9c02d206, 0x1c649d03,
    0x41752600, 0x94029503, 0xcc70ac01, 0x1b7d9f00, 0x940141b4, 0x435c460c, 0x0f659500, 0x460c00e7,
    0x46a64354, 0x433c0f64, 0x94029503, 0x9d044674, 0x1b2c00e4, 0xd2069404, 0x9d039c02, 0x26001c64,
    0x95034175, 0xac019402, 0x9f00cc70, 0x41b41b7d, 0x06af09ae, 0x00c99d04, 0x432f09ad, 0x06a49d04,
    0x950406ad, 0x43349d07, 0x91071869, 0x0be19d05, 0x0c2d434d, 0x46664629, 0x95024375, 0x4345460d,
    0x9d02462e, 0x41b41b7d, 0x460d9500, 0x9401435d, 0x042f0c2c, 0x4355460d, 0x0c2d46ae, 0x9502433d,
    0x46759403, 0x042d9c04, 0x94041b64, 0x9c02d206, 0x1c649d03, 0x41752600, 0x94029503, 0xcc70ac01,
    0x1b7d9f00, 0x940141b4, 0x9406058c, 0x0a899c07, 0x95001861, 0x9c019107, 0x08a49905, 0x0c094361,
    0x4345460d, 0x04ef0b68, 0x4664460d, 0x0b6c4365, 0x9f04433c, 0x1b7d04ed, 0xd20246ac, 0x1c642500,
    0x9e004168, 0x1b379d01, 0x46084185, 0x95014358, 0x0f46460c, 0x435400c5, 0x43280f60, 0x00e44665,
    0xd2021b2c, 0x1c402500, 0x9d01416e, 0x41b51a3f, 0x09bd4628, 0x43280680, 0x09a04684, 0x024e06bf,
    0x06a49906, 0x43071876, 0x20009d07, 0x990a4168, 0x43199007, 0x9b092000, 0x46609000, 0x431319ff,
    0x0fe24140, 0x433a0064, 0x460446a4, 0x418c1ad7, 0xd90342a0, 0x90002001, 0x463a4620, 0x18940fc7,
    0x46624140, 0x43220fd2, 0x00644664, 0x9c009404, 0x006446be, 0x46a41ad7, 0x97024604, 0x4677418c,
    0xd1012f00, 0xd90442a0, 0x1c404660, 0x9a024684, 0x0fc44620, 0x189446a6, 0x9a044140, 0x0fd24605,
    0x46644322, 0x1ad30064, 0x4671418d, 0xd1012900, 0xd90242a8, 0x461a4628, 0x43101c64, 0x28002201,
    0x4316d000, 0x20000261, 0x19899b07, 0x415c4604, 0x2c002302, 0x1849db02, 0x41644613, 0x0ace9d08,
    0x195d142d, 0x0567054b, 0x052c0ae1, 0x9908190d, 0x07c9433e, 0x2b004069, 0x4093d008, 0x2200d306,
    0x41511c76, 0xd1012b00, 0x00760876, 0x2d004a1c, 0x4215db43, 0x43aad041, 0x4630d03f, 0xbdf0b00b,
    0x460d1806, 0x4c17414d, 0x41ac4276, 0x1895d31a, 0x415c461c, 0x426d4a13, 0xd31341a2, 0x05522201,
    0x42d4004c, 0x005cd10a, 0xd00b42d4, 0xd502404b, 0x43110292, 0x0049e7e2, 0xe7df0849, 0x0fc94059,
    0xe01807c9, 0x49082000, 0x4805e7d8, 0xd10d4201, 0xd0f74203, 0x0000e7f2, 0x07ff0000, 0x00000bc0,
    0x7ff00000, 0xffe00000, 0x7ff80000, 0x40594811, 0x12c04301, 0x20004041, 0x2301e7c0, 0x069b9a08,
    0xdc05429a, 0x07522203, 0x0fc91889, 0xe7b507c9, 0x07522205, 0x4a071889, 0x12d24311, 0xe7ad4051,
    0x4615b570, 0x4602461c, 0x4628460b, 0xf7ff4621, 0xbd70fddf, 0x7fffffff, 0x02ca4603, 0xb5100d40,
    0x150a4310, 0x2401d004, 0x432007e4, 0xdb052a00, 0x1aa24c0a, 0x40d0d404, 0xdd002aff, 0xbd102000,
    0x2b00004a, 0x2001d001, 0x2000e000, 0x22011810, 0x42d00552, 0x17c8d8f2, 0xbd1043c0, 0x0000041e,
    0x0c03221f, 0x220fd102, 0xd0020400, 0xd0030e03, 0x2000e004, 0x47704601, 0x3a080200, 0xd1010f03,
    0x1f120100, 0xd1010f83, 0x1e920080, 0xdb012800, 0x1e520040, 0x18510512, 0x12c00542, 0x46101841,
    0x0fc14770, 0xd00007c9, 0x22014240, 0x43110792, 0x2101e7d6, 0xe7d30789, 0x4c8bb5f0, 0x4625090f,
    0x43bdb089, 0x091dd07b, 0x43ae4626, 0x460ed0fa, 0x4027405e, 0x433e0ff6, 0xd0714025, 0x42210124,
    0x24ffd0fb, 0x04a419ad, 0x95031b2d, 0x052d2501, 0x0adb02db, 0x432b02c9, 0x43290ac9, 0x0109011e,
    0x0f130f04, 0x43210105, 0x0b880117, 0x43910382, 0x468c092d, 0x431e0ba9, 0x4395038a, 0x039a0bb3,
    0x093f4396, 0x03940bba, 0x960243a7, 0x437e462e, 0x46b69704, 0x19d7194e, 0x9601460c, 0x97054354,
    0x1b37437e, 0x1bbf4676, 0x46b60136, 0x19360bbe, 0x46769600, 0x193704bc, 0xd3019c00, 0x94001c64,
    0x2f000064, 0x2601d001, 0x9e024334, 0x43759f04, 0x437e4666, 0x00769604, 0x006e1934, 0x94001934,
    0x9e019c02, 0x4366191c, 0x46ae1b75, 0x46659406, 0x9c051945, 0x436c9505, 0x46754359, 0x1a699108,
    0x9e049101, 0x43514601, 0x91041ba4, 0x9c001a61, 0x06e19107, 0x0961d005, 0x43112201, 0xe072e002,
    0x0961e06e, 0x27009d08, 0x062d0a2c, 0x9d041869, 0x0a2a417c, 0x1869062d, 0x41629d01, 0x02ad0dac,
    0x4154186d, 0x0d919a07, 0x19550292, 0x9a024161, 0x43584664, 0x9b064354, 0x435a9a05, 0x1b131a12,
    0x019b0e9a, 0x417a185b, 0x05000b01, 0x415118c3, 0x06200a22, 0x415a1944, 0xd200429a, 0x20011c49,
    0x42810240, 0x2315d303, 0x43f62602, 0x2314e002, 0x43f62603, 0x1ac52020, 0x461740a9, 0x40da40af,
    0x4620430a, 0x40d89903, 0x18731409, 0x18510519, 0x43389a03, 0x405107d2, 0xd00940ac, 0x40942201,
    0x2200d306, 0x41511c40, 0xd1012c00, 0x00400840, 0x42934a1e, 0x2201d312, 0x06929803, 0xdb074290,
    0x07402005, 0x481a1809, 0x12c04301, 0xe0044041, 0x07402003, 0x0fc11808, 0x200007c9, 0xbdf0b009,
    0x07f12000, 0x1805e7fa, 0x414c460c, 0x426d4811, 0xd31541a0, 0x461a1894, 0x480e415a, 0x41904264,
    0x2001d30e, 0x0540004a, 0xd3094282, 0x4282005a, 0x4059d306, 0x4a080fc9, 0x200007c9, 0xe7dd4311,
    0x49062000, 0x0000e7da, 0x07ff0000, 0x000007fe, 0x7fffffff, 0xffe00000, 0x7ff00000, 0x7ff80000,
    0x20184901, 0xe7febeab, 0x00020026, 0x44484801, 0xbf004770, 0x0000020c, 0x47704770, 0x47704770,
    0x4604b538, 0x2000460a, 0xf0004669, 0x2800f894, 0x4602d005, 0x99004620, 0xf842f000, 0xbd382001,
    0x2001b510, 0xf874f000, 0xb5f8bd10, 0xf876f000, 0x20004605, 0x2010460c, 0x460646c0, 0x42a019a8,
    0x4632d90d, 0x20004669, 0xf875f000, 0xd1010007, 0xf85ef000, 0x42a09800, 0x4605d000, 0xf7ff19c4,
    0x1df6ffc5, 0x60054607, 0x00c008f0, 0x46281946, 0xf808f000, 0xd00442b4, 0x68384631, 0xf0001ba2,
    0xbdf8f80f, 0x60012100, 0x60806041, 0x20104770, 0xb5104770, 0xf824f000, 0xf81cf000, 0x4770bd10,
    0x4603b510, 0xe0016840, 0x68404603, 0xd0012800, 0xd3f94288, 0x18c36818, 0xd006428b, 0x08d81ccb,
    0x1d0000c0, 0x1a521a41, 0x1d084601, 0xf7ff600a, 0xbd10f8e4, 0x2800b510, 0xf7ffd001, 0xbd10ff81,
    0x2100b510, 0xf000a002, 0x2001f843, 0x0000bd10, 0x41474953, 0x3a545242, 0x6e624120, 0x616d726f,
    0x6574206c, 0x6e696d72, 0x6f697461, 0x0000006e, 0xf000b510, 0xf7fff847, 0xbd10ffdd, 0x46694b13,
    0x03122201, 0x444b1882, 0x601a428a, 0x4611d801, 0x60194770, 0xb5704770, 0x466d4c0c, 0x444c2601,
    0x68230336, 0x189a1bad, 0xd80e42aa, 0x19901aad, 0x19750fee, 0x18aa106d, 0xd9004290, 0x1dc04610,
    0x08c2600b, 0x1ad000d2, 0xbd706022, 0x00000208, 0x4605b570, 0x200a460c, 0x1c6de000, 0xf83af000,
    0xd0062d00, 0x28007828, 0xe002d1f7, 0xf0001c64, 0x2c00f831, 0x7820d002, 0xd1f72800, 0xf000200a,
    0xbd70f829, 0x2801b510, 0x2100d005, 0xf7ffa003, 0x2001ffdf, 0xa109bd10, 0x0000e7f8, 0x52474953,
    0x4d454d54, 0x754f203a, 0x666f2074, 0x61656820, 0x656d2070, 0x79726f6d, 0x00000000, 0x6548203a,
    0x6d207061, 0x726f6d65, 0x6f632079, 0x70757272, 0x00646574, 0x4669b508, 0x20037008, 0xbd08beab,
    0x0c04b5f8, 0x4626b28b, 0x435eb282, 0x46100c0d, 0x43580c37, 0x19800436, 0x41792100, 0x436e4616,
    0x04360c37, 0x41791980, 0x436e4626, 0xbdf81989, 0x4674b430, 0x78251e64, 0x42ab1c64, 0x461dd200,
    0x005b5d63, 0xbc3018e3, 0x00004718, 0x00000003, 0x00000001, 0x00000000, 0x00000016, 0x00000000,
    0x00000000, 0x00030502, 0x1c0f1607, 0x00030502, 0x18090f14, 0x00030502, 0x0d09180f, 0x00030502,
    0x18090f14, 0x00030502, 0x110b0918, 0x00030502, 0x0d091810, 0x00030502, 0x090b1810, 0x00030502,
    0x180a0f14, 0x00030502, 0x0a181009, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502,
    0x0d1a180f, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502, 0x14131810, 0x00030502,
    0x1c1a1810, 0x00030502, 0x1c1a1810, 0x00030502, 0x14131810, 0x00030502, 0x14131810, 0x00030502,
    0x14131810, 0x00030502, 0x0f0c0911, 0x00030502, 0x0f0c0911, 0x00030502, 0x0d091810, 0x00030502,
    0x0d091810, 0x00030502, 0x180d0f14, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502,
    0x0d091810, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502,
    0x0d091810, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502,
    0x180d0f14, 0x00030502, 0x180d0f14, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502,
    0x0d091810, 0x00030502, 0x0d091810, 0x00030502, 0x180d0f14, 0x00030502, 0x180d0f14, 0x00030502,
    0x0d091813, 0x00030502, 0x0d091813, 0x00030502, 0x0d091813, 0x00030502, 0x0d091813, 0x00030502,
    0x18130f14, 0x00030502, 0x18130f14, 0x00030502, 0x0d091810, 0x00030502, 0x0d091810, 0x00030502,
    0x0b181a17, 0x00030502, 0x0b181a17, 0x00030502, 0x0b181a17, 0x00030502, 0x0b181a17, 0x00030502,
    0x0b181a17, 0x00030502, 0x0b181a17, 0x00030502, 0x0b181a17, 0x00030502, 0x07180a0c, 0x00030502,
    0x07180a0c, 0x00030502, 0x0d1a1018, 0x00030502, 0x0d1a1018, 0x00030502, 0x181a0f14, 0x00030502,
    0x0d130f1a, 0x00030502, 0x0d18131a, 0x00030502, 0x0d18131a, 0x00030502, 0x0d18131a, 0x00030502,
    0x181a0f14, 0x00030502, 0x1c0f0b09, 0x00030502, 0x1c110c09, 0x00030502, 0x1c110c09, 0x00030502,
    0x1c110a09, 0x00030502, 0x1c110a09, 0x00030502, 0x1c0a0f0c, 0x00030502, 0x1c0a0f0c, 0x00030502,
    0x1c0a0f0c, 0x00030502, 0x1c120f0c, 0x00030502, 0x1812090c, 0x00030502, 0x1a12010d, 0x7e7f8080,
    0x7a7b7c7d, 0x76777879, 0x73747576, 0x70717172, 0x6d6e6e6f, 0x6a6b6c6c, 0x6868696a, 0x65666667,
    0x63636464, 0x60616162, 0x5e5f5f60, 0x5c5d5d5e, 0x5a5b5b5c, 0x5859595a, 0x56575758, 0x55555556,
    0x53535454, 0x51525252, 0x50505051, 0x4e4f4f4f, 0x4d4d4d4e, 0x4b4c4c4c, 0x4a4a4b4b, 0x4949494a,
    0x47484848, 0x46474747, 0x45454646, 0x44444445, 0x43434344, 0x42424243, 0x41414142, 0x00000000,
    0x00000001, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x1f78a400, 0x00000000, 0x00000000
    ],

    # Relative function addresses
    'pc_init': 0x20200099,
    'pc_unInit': 0x2020015b,
    'pc_program_page': 0x20200191,
    'pc_erase_sector': 0x20200173,
    'pc_eraseAll': 0x2020015f,

    'static_base' : 0x20200000 + 0x00000020 + 0x0000295c,
    'begin_stack' : 0x20002e00,
    'begin_data' : 0x20000000 + 0x1000,
    'page_size' : 0x100,
    'analyzer_supported' : False,
    'analyzer_address' : 0x00000000,
    'page_buffers' : [0x20001000, 0x20001100],   # Enable double buffering
    'min_program_length' : 0x100,
}

class MIMXRT1176xxxxx_CM7(CoreSightTarget):

    VENDOR = "NXP"
    
    # Note: itcm, dtcm, and ocram share a single 512 KB block of RAM that can be configurably
    # divided between those regions (this is called FlexRAM). Thus, the memory map regions for
    # each of these RAMs allocate the maximum possible of 512 KB, but that is the maximum and
    # will not actually be available in all regions simultaneously.
    memoryMap = MemoryMap(
        RamRegion(name="itcm",              start=0x00000000, length=0x80000), # 512 KB
        RomRegion(name="romcp",             start=0x00200000, length=0x18000), # 96 KB
        RamRegion(name="semc_alias",        start=0x10000000, length=0x10000000, alias='semc'), # 256 MB
        RamRegion(name="dtcm",              start=0x20000000, length=0x80000), # 512 KB
        RamRegion(name="ocram",             start=0x20200000, length=0x80000), # 512 KB
        FlashRegion(name="flexspi",         start=0x30000000, length=0x1000000, blocksize=0x1000,
            is_boot_memory=True, algo=FLASH_ALGO, page_size=0x100),
        RamRegion(name="semc",              start=0x80000000, end=0xdfffffff, is_external=True)
        )

    def __init__(self, link):
        self.AP_NUM = 0
        super(MIMXRT1176xxxxx_CM7, self).__init__(link, self.memoryMap)
        self._svd_location = SVDFile.from_builtin("MIMXRT1176_cm7.xml")

    def create_init_sequence(self):
        seq = super(MIMXRT1176xxxxx_CM7, self).create_init_sequence()
        seq.wrap_task('discovery',
            lambda seq: seq
                        .replace_task('find_aps', self.find_aps)
            )
        return seq

    def prepare_cm7_spincode(self, ap):
        # put CM7 spin code
        ap.write32(0x2001FF00, 0x20000000)
        ap.write32(0x2001FF04, 0x207e11)
        # Update GPR19
        ap.write32(IOMUX_GPR19, (0x2001FF00 >> 7))
        LOG.debug("CM7 spincode is ready")

    def prepare_cm4_spincode(self, ap):
        # put CM4 spin code
        ap.write32(0x2021FF00, 0x20000000)
        ap.write32(0x2021FF04, 0x207e11)

        # Update LPSR_GPR0 and LPSR_GPR1
        ap.write32(IOMUX_LPSR_GPR0, 0xFF00)
        ap.write32(IOMUX_LPSR_GPR1, 0x2021)
        LOG.debug("CM4 spincode is ready")

    def release_cm4(self, ap):
        # release CM4
        ap.write32(SRC_SCR, 1)
        LOG.debug("CM4 is released")

    def find_aps(self):
        if self.dp.valid_aps is not None:
            return
        self.dp.valid_aps = [0,1,2]
        ap = AccessPort.create(self.dp, 0)

        self.prepare_cm7_spincode(ap);
        self.prepare_cm4_spincode(ap);
        self.release_cm4(ap);

    def clear_irq(self):
        for i in range(0, 0x20, 4):
            self.aps[0].write32(CortexM.NVIC_ICER0 + i, 0xFFFFFFFF)

        for i in range(0, 0x20, 4):
            self.aps[0].write32(CortexM.NVIC_ICPR0 + i, 0xFFFFFFFF)
        LOG.debug("IRQs are cleared");

    def post_connect_hook(self):
        self.clear_irq()

    def reset_and_halt(self, reset_type=None):
        """! @brief Perform a reset and stop the core on the reset handler."""
        demcr = self.read_memory(CortexM.DEMCR)
        self.write32(CortexM.DEMCR, demcr & ~CortexM.DEMCR_VC_CORERESET)

        # Set breakpoint on user reset handler.
        t = self.read32(SRC_SBMR2)
        if t & 0x2000000:
            LOG.debug("internal boot")
            t = self.read32(FCFB_ADDR)
            if t == FCFB:
                self._reset_handler = self.read32(RESET_HANDLE_ADDR)
                self.write_memory(FPB_COMP0, self._reset_handler|1)
                self.write_memory(FPB_CTRL, 0x3)

        # restore GPR19 for CM7 init vect
        self.write32(IOMUX_GPR19, 0x4000)

        # Perform the reset.
        mask = CortexM.NVIC_AIRCR_SYSRESETREQ | CortexM.NVIC_AIRCR_VECTRESET
        self.write_memory(CortexM.NVIC_AIRCR, CortexM.NVIC_AIRCR_VECTKEY | mask)

        xpsr = self.read_core_register('xpsr')
        if xpsr & self.selected_core.XPSR_THUMB == 0:
            self.write_core_register('xpsr', xpsr | self.selected_core.XPSR_THUMB)

        if t == FCFB:
            self.write32(FPB_COMP0, 0)
        self.write_memory(CortexM.DEMCR, demcr)
